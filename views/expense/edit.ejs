<h2>Edit expense</h2>

<form action="/expense/update/<%=expense.id%>" method="POST" class="form-horizontal" role="form" data-toggle="validator">
	<div class="form-group">

		<div class="form-group"><div class="col-sm-offset-2 col-sm-10"><%- include ../flash.ejs %></div></div>
		
		<div class="form-group">
			<label class="col-sm-2 control-label">Name</label>
			<div class="col-sm-10">
				<input value="<%= expense.name %>" name="name" type="text" class="form-control" />
			</div>
		</div>

		<div class="form-group">
			<label class="col-sm-2 control-label">Price</label>
			<div class="col-sm-10">
				<div class="input-group">
					<input id="input-price" value="<%= expense.price %>" placeholder="0.00" name="price" type="number" class="form-control" />
					<span class="input-group-addon">&euro;</span>
				</div>
			</div>
		</div>
		
		<div class="form-group">
			<label class="col-sm-2 control-label">Person</label>
			<div class="col-sm-10">
				<div class="input-group">
					<input value="<%= expense.person.name %>" placeholder="Person name" name="person" type="text" class="form-control" id="expense-person-input" />
					<div class="input-group-btn">
						<button type="button" class="btn btn-default dropdown-toggle" data-toggle="dropdown"><span class="caret"></span></button>
						<ul id="expense-person-dropdown" class="dropdown-menu dropdown-menu-right" role="menu">
							<% people.forEach(function(person) { %>
					    	<li><a href="#"><%= person.name %></a></li>
					    	<% }); %>
						</ul>
					</div>
				</div>
			</div>
		</div>
		
		<input type="hidden" name="_csrf" value="<%= _csrf %>" />

		<div class="form-group">
			<div class="col-sm-offset-2 col-sm-10">
				<input type="submit" value="Edit" class="btn btn-primary"/>
				<a href="/expense/show/<%=expense.id %>" class="btn btn-danger">Cancel</a>
			</div>
		</div>
	</div>
</form>
<hr>
<a href="/expense" class="btn btn-default">Back to list</a>

<script>
$("#expense-person-dropdown a").click(function() {
	$("#expense-person-input").val(this.innerHTML);
});
</script>
